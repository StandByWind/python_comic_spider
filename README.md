# python_comic_spider
一个只可下载一个漫画网站漫画的爬虫，可以还原图片并合成pdf

使用和文件介绍：

  使用：把文件下载下来用PyCharm打开执行就可以了
  
  文件介绍：glue是完整的文件，但在下载图片较多的漫画会在下载完卡住，所以又有glue的拆分文件download和convert
  
作者的话：
  高考结束，伤心的是考差了，开心的是有时间做想做的事了，所以学了python爬虫，信心十足地开始爬漫画，但实操后才发现下载的图片是被切割后打乱再合成的，于是又上网找解决方法，发现要js逆向，身为小白的我只好先看大佬们找到的还原方法，然后发现需要将js代码转python，于是开始便秘般的转换，后面画图后才明白要倒着黏贴切割的图片，最后终于写完了!!!!
  
  这是我的第一个项目，希望4年后我的项目会增加
  
  希望大家使用的时候要注意下, 每一次使用爬虫下载都是对禁漫天堂的持续性访问, 所以尽量不要一次性添加太多本漫画, 这样会对禁漫天堂服务器带来比较持久的压力, 最好挑到喜欢的再选择下载, 谢谢🤞


更新一下逆向思路：

原本以为可以用dom断点找到还原方法，但是找不到（后来才知道还原方法是用一张画布覆盖在原图片上，所以用dom断点找不到），于是去看了每张图片的调用堆栈，发现都是在Array.prototype.forEach.call(entries, function (entry)这个方法里，于是给每个if打上断点慢慢看，发现只有一个if里面的一个调用函数有点可疑，所以点进去查看，然后就发现这个函数里面用了scramble_image这个函数，再打上断点进去查看，看到createElement("canvas")，drawImage便猜测是还原方法，于是仔细看了这个函数，最后确定。可以说逆向大多是猜测并验证，在这个过程一定要耐心，慢慢解读逻辑，如看scramble_image这个函数时，可以把函数中e, t, a, n, d换成调用函数时传入的参数，方便理解
